
# 1. 加载库引用

```gradle
// 微博分享
implementation "com.xinji.sdk.china:share-weibo:1.0.0.7"
// 微信分享
implementation "com.xinji.sdk.china:share-weixin:1.0.0.7"
// 小红书分享
implementation "com.xinji.sdk.china:share-xiaohongshu:1.0.0.7"
```

# 2. 方法调用

## (1) 获取分享链接

```java
void getShareLink(final XJOnGetShareLinkListener listener)
```

## (2) 分享调用

**注：每次调用 onShare 前，务必先调用 getShareLink 接口（调用一次 onshare 接口，必须同时调用一次 getShareLink）**

```java
void onShare(XJShareInfo info, XJOnShareListener listener)
```

## (3) 实例代码

```java
XJGame.getShareLink(new XJOnGetShareLinkListener() {
    @Override
    public void onGetShareUrlSuc(String link) {
        if(mIsShareImg) {
            testImageShare(link);
            mIsShareImg = false;
        } else {
            mIsShareImg = true;
            testLinkShare(link);
        }
    }

    @Override
    public void onGetShareUrlFail(String msg) {
    }
});
```

### 分享链接

```java
private void testLinkShare(String link) {
    XJShareInfo info = new XJShareInfo();
    info.shareType = XJShareType.SHARE_TYPE_LINK.getType();
    info.shareUrl = link;
    info.title = "测试发送";
    info.description = "dddddddddddddddddddddddddddddddd";
    
    XJGame.onShare(info, new XJOnShareListener() {
        @Override
        public void onSendFinish(boolean isSuc) {
        }
    });
}
```

### 分享图片

```java
private void testImageShare(String link) {
    XJShareInfo info = new XJShareInfo();
    info.shareType = XJShareType.SHARE_TYPE_IMAGE.getType();
    info.shareUrl = link;
    info.title = "测试发送";
    info.imageUrl = "文件路径";
    info.description = "ddddddddddddddddddddddddddddddddddddddd";
    
    XJGame.onShare(info, new XJOnShareListener() {
        @Override
        public void onSendFinish(boolean isSuc) {
        }
    });
}
```